<!DOCTYPE html>
<html>
  <head>
    <title>Simple example</title>
    <script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.4.0/fabric.min.js'></script>
	
	<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>	
    <style type='text/css'>
        #sheet {
            border:1px solid black;
        }
		/* Three image containers (use 25% for four, and 50% for two, etc) */
.column {
  float: left;
  width: 33.33%;
  padding: 5px;
}

/* Clear floats after image containers */
.row::after {
  content: "";
  clear: both;
  display: table;
}
    </style>

	
    <script type='text/javascript'>
	
	// using fabric to draw with mouse //
        window.onload=function(){
            var canvas = new fabric.Canvas('sheet');
            canvas.isDrawingMode = true;
            canvas.freeDrawingBrush.width = 5;
            canvas.freeDrawingBrush.color = "#ff0000";
        }
		
$(document).ready(function(g){
	
	// getting id of button on click //
	$("button").click(function(g){
		
		g.preventDefault();
		
		// getting the canvas with id//
		noofros = document.getElementById('sheet');
		
		// converting img to string//
		img = noofros.toDataURL();
		
		//console.log(noofros.toDataURL());
		
		//posting the image to url in python function def uploadimage , img is id going to python and img is the above variable name//
		$.post("/uploadimage", {"img": img},
			function(data){
				$("#randomNumbers").text(data.message); // getting the image as string text and displaying on textarea id randomNumbers//
				//$("randomNumbers").Base64.decode(data.message);
			});

		});
	});
	
    </script>
  </head>
  <body>
<div class="row">
 <div class="column">
    <canvas id="sheet" width="200" height="200"></canvas>
</div>

 <div class="column">
	<textarea rows="10" cols="20" id="randomNumbers">
	</textarea>
 </div> 
 </div>
  <div class="column">
	<button type="submit" id="button">Click Me!</button>
</div>
  </body>
</html>